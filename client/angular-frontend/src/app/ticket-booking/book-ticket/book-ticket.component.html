<div *ngIf="flag" class="flex-container" fxLayout="row-inline"  fxLayoutGap="30px"
fxLayoutAlign="space-between center">
  <form [formGroup]="bookingForm" (ngSubmit)="onSubmit(bookingForm)">
    <div>
    <mat-form-field>
      <mat-label class="center-block">Number of Seats: </mat-label>
    
      <input matInput type="number" class="form-control" formControlName="count">
    
    </mat-form-field>
    </div>
    <div>
    <mat-form-field>
    <mat-label class="center-block"> User Name : </mat-label>
       <input matInput class="form-control" formControlName="name">
    
    </mat-form-field>
    </div>
    <div>
    <button mat-flat-button color="primary" type="submit" [disabled]="!bookingForm.valid" >Book</button>
    </div>
    <div>{{error}}</div>
  </form>
</div>

<div class="conformation-container" *ngIf="!flag">
  
<div class="seat-row">
  <div  *ngFor ="let seat of bookingInfo.seats">
    <div  class="seat" [ngClass] = "seat.seatNo === 3? 'divide-category': ''"  *ngIf="seat.row === 1" >
      <label class="seat-label" [ngClass]="seat.status=== 'booked' ?  'booked'  : seat.status=== 'available' ? 'available' : 'selected'" 
      matTooltip="Booked By : {{ seat.bookedBy}}">
        {{seat.seatNo}}</label>
        
    </div>
  </div>
</div>
<div class="seat-row">
  <div  *ngFor ="let seat of bookingInfo.seats">
    <div  class="seat" [ngClass] = "seat.seatNo === 10? 'divide-category': ''"*ngIf="seat.row === 2" >
      <label class="seat-label" [ngClass]="seat.status=== 'booked' ?  'booked'  : seat.status=== 'available' ? 'available' : 'selected'" 
      matTooltip="Booked By : {{ seat.bookedBy}}">
        {{seat.seatNo}}</label>
    </div>
  </div>
</div>
<div class="seat-row">
  <div  *ngFor ="let seat of bookingInfo.seats">
    <div class="seat" [ngClass] = "seat.seatNo === 17? 'divide-category': ''" *ngIf="seat.row === 3" >
      <label class="seat-label" [ngClass]="seat.status=== 'booked' ?  'booked'  : seat.status=== 'available' ? 'available' : 'selected'" 
      matTooltip="Booked By : {{ seat.bookedBy}}">
        {{seat.seatNo}}</label>
    </div>
  </div>
</div>
<div class="seat-row">
  <div *ngFor ="let seat of bookingInfo.seats">
    <div class="seat" [ngClass] = "seat.seatNo === 24? 'divide-category': ''"*ngIf="seat.row === 4" >
      <label class="seat-label" [ngClass]="seat.status=== 'booked' ?  'booked'  : seat.status=== 'available' ? 'available' : 'selected'" 
      matTooltip="Booked By : {{ seat.bookedBy}}">
        {{seat.seatNo}}</label>
    </div>
  </div>
</div>
<div class="seat-row">
  <div  *ngFor ="let seat of bookingInfo.seats">
    <div class="seat" [ngClass] = "seat.seatNo === 31? 'divide-category': ''" *ngIf="seat.row === 5" >
      <label class="seat-label"  [ngClass]="seat.status=== 'booked' ?  'booked'  : seat.status=== 'available' ? 'available' : 'selected'" 
      matTooltip="Booked By : {{ seat.bookedBy}}">
        {{seat.seatNo}}</label>
    </div>
  </div>
  </div>
  <div class="seat-row">
  <div  *ngFor ="let seat of bookingInfo.seats">
    <div class="seat" [ngClass] = "seat.seatNo === 38? 'divide-category': ''" *ngIf="seat.row === 6" >
      <label class="seat-label"  [ngClass]="seat.status=== 'booked' ?  'booked'  : seat.status=== 'available' ? 'available' : 'selected'" 
      matTooltip="Booked By : {{ seat.bookedBy}}">
        {{seat.seatNo}}</label>
    </div>
  </div>
</div>
 <div class="seat-row">
  <div  *ngFor ="let seat of bookingInfo.seats">
    <div class="seat" [ngClass] = "seat.seatNo === 45? 'divide-category': ''" *ngIf="seat.row === 7" >
      <label class="seat-label"  [ngClass]="seat.status=== 'booked' ?  'booked'  : seat.status=== 'available' ? 'available' : 'selected'" 
      matTooltip="Booked By : {{ seat.bookedBy}}">
        {{seat.seatNo}}</label>
    </div>
  </div>
</div>
 <div class="seat-row">
  <div  *ngFor ="let seat of bookingInfo.seats">
    <div class="seat" [ngClass] = "seat.seatNo === 52? 'divide-category': ''" *ngIf="seat.row === 8" >
      <label class="seat-label"  [ngClass]="seat.status=== 'booked' ?  'booked'  : seat.status=== 'available' ? 'available' : 'selected'" 
      matTooltip="Booked By : {{ seat.bookedBy}}">
        {{seat.seatNo}}</label>
    </div>
  </div>
</div>
<div class="seat-row">
  <div  *ngFor ="let seat of bookingInfo.seats">
    <div class="seat" [ngClass] = "seat.seatNo === 59? 'divide-category': ''" *ngIf="seat.row === 9" >
      <label class="seat-label"  [ngClass]="seat.status=== 'booked' ?  'booked'  : seat.status=== 'available' ? 'available' : 'selected'" 
      matTooltip="Booked By : {{ seat.bookedBy}}">
        {{seat.seatNo}}</label>
    </div>
  </div>
  
</div>
<div class="seat-row">
  <div  *ngFor ="let seat of bookingInfo.seats">
    <div class="seat" [ngClass] = "seat.seatNo === 66? 'divide-category': ''" *ngIf="seat.row === 10" >
      <label class="seat-label"  [ngClass]="seat.status=== 'booked' ?  'booked'  : seat.status=== 'available' ? 'available' : 'selected'" 
      matTooltip="Booked By : {{ seat.bookedBy}}">
        {{seat.seatNo}}</label>
    </div>
  </div>
  
</div>
<div class="seat-row">
  <div  *ngFor ="let seat of bookingInfo.seats">
    <div class="seat" [ngClass] = "seat.seatNo === 73? 'divide-category': ''" *ngIf="seat.row === 11" >
      <label class="seat-label"  [ngClass]="seat.status=== 'booked' ?  'booked'  : seat.status=== 'available' ? 'available' : 'selected'" 
      matTooltip="Booked By : {{ seat.bookedBy}}">
        {{seat.seatNo}}</label>
    </div>
  </div>
  
</div>
<div class="seat-row">
  <div  *ngFor ="let seat of bookingInfo.seats">
    <div class="seat" [ngClass] = "seat.seatNo === 76? 'divide-category': ''" *ngIf="seat.row === 12" >
      <label class="seat-label"  [ngClass]="seat.status=== 'booked' ?  'booked'  : seat.status=== 'available' ? 'available' : 'selected'" 
      matTooltip="Booked By : {{ seat.bookedBy}}">
        {{seat.seatNo}}</label>
    </div>
  </div>
  
</div>

<div class="new-booking">
  
    <mat-chip>  
      <span class="dot" [style.backgroundColor]="'green'"></span>    
      Available : {{displaydata?.available?.length}}
    </mat-chip>
    <mat-chip selected color="primary">
      <span class="dot" [style.backgroundColor]="'blue'"></span>    
      Selected : {{displaydata?.selected?.length}}
    </mat-chip>
    <mat-chip color="accent">
      <span class="dot" [style.backgroundColor]="'red'"></span>    
      Booked : {{displaydata?.booked?.length}}    
    </mat-chip>
  
</div>

<div class="new-booking">
  <button mat-flat-button color="warn" (click)="openBookingForm()"> New Booking</button>
  <button mat-flat-button class="available-button ml-6"  (click)="bookTrainTickets()"> Confirm Booking</button>
</div>

</div>
